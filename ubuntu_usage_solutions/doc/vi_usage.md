# vi 使用教程

## vim之快速查找功能
查找字符串的时候，在`命令模式`下输入`/`或者`?`加需要查找的字符串来进行搜索。比如想搜索`super`这个单词， 可以输入`/super` 或者`？super`，两者的区别是前者是`从上往下`搜索，后者是`从下往上`搜索。         

那么如果我想搜索本行中某个单词，并且这个单词很长的时候， 手动输入该字符串是非常麻烦的， 当然可以使用模糊匹配(如* 或 ？)来做， 不过这样可能搜得到很多其他的，不完全匹配的字符串。可以使用如下方式来实现快速查找：      
```
1. 最快的方式是让光标停留在想要查找的单词的任意一个字母上面， 然后输入`Shift + *`, 即可快速选中该单词，并且可以通过`n`或`N`进行上一个或下一个的匹配。
2. 让光标停留在单词的第一个字母上, 然后输入`yw`拷贝该单词， 然后输入 / (Ctrl + R) 0 （即 /”0），回车， 就查找到了第一个匹配的单词， 并且可以通过 n  或  N 进行上一个或下一个的匹配。
解释一下：
Ctrl + r 是指使用寄存器 ， 你会发现先输入/ ， 然后输入 Ctrl + r , 会立刻变为 “ ， 即寄存器的前缀， 然后 ”0 就可以理解了吧？ 合起来就是 /“0， 就是查找刚才复制的那个单词， 不懂的请查看上一个帖子：
http://blog.csdn.net/ballack_linux/article/details/53078836

3， 还有一种方式， 和第二种方式差不多，不过是将单词拷贝到系统剪贴板， 然后再从系统剪贴板拿出来。 即选中需要查找的单词， 然后输入 “+y， 然后输入/（Shfit + Ctrl + v）， 就查找到了第一个匹配的单词， 并且可以通过 n  或  N 进行上一个或下一个的匹配。
```
以上， 最方便的还是第一种， 高效快捷， 值得推荐！！

## 2. 字符串的批量替换

1. 文件内全部替换：
```bash
:%s#abc#def#g  #用"def"替换文件中所有的"abc"
:%s/abc/def/g
```
例如把一个文本文件里面的`linuxidc.com`全部替换成`linuxidc.net`：
```
:%s#linuxidc.com#xwen.net#g (如文件内有#，可用/替换,比如)
# 或
:%s/linuxidc.com/xwen.net/g
```
2. 文件内局部替换：
```
# 把10行到50行内的“abc”全部替换成“def”
:10,50#abc#def#g（如文件内有#，可用/替换,:%s/abc/def/g）
```
以上命令如果在`g`后面再加上`c`，则会在替换之前显示提示符给用户确认`conform`是否需要替换。 比如
```
:%s#linuxidc.com#linuxidc.net#gc
# 或
:%s/linuxidc.com/linuxidc.net/gc
```